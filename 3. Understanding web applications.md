# Chapter 3. 웹 애플리케이션 이해하기

## 3.1 웹 애플리케이션

### 3.1.1 웹 애플리케이션의 정의

- 웹 애플리케이션의 정의
    - 웹 애플리케이션의 기능을 그대로 사용하면서 Servlet, JSP, Java Class들을 추가하여 사용자에게 동적인 서비스를 제공하는 프로그램
    - 웹 컨테이너에서 실행되는 JSP, Servlet, Java Class들을 사용해 정적 웹 프로그래밍 방식의 단점 보완

## 3.2 웹 애플리케이션의 기본 구조

### 3.2.1 웹 애플리케이션 구성 요소

- 구성 요소의 기능
    1. webShop
        - 웹 애플리케이션의 루트 디렉터리
        - JSP HTML 파일 저장
    2. WEB-INF : 웹 애플리케이션에 관한 정보 저장
    3. classes : 웹 애플리케이션이 수행하는 서블릿과 다른 일반 클래스들이 위치하는 곳
    4. lib : 웹 애플리케이션에서 사용되는 여러 가지 라이브러리 압축 파일이 저장되는 곳
    5. web.xml
        - 배치 지시자
        - 환경 설정 파일
    6. jsp/html : JSP 파일과 HTML 파일 저장
    7. css : 스타일시트 파일 저장
    8. image : 이미지 저장
    9. js : JavaScript 파일 저장
    10. bin : 애플리케이션에서 사용되는 각종 실행 파일이 저장된 곳
    11. conf : 프레임워크에서 사용하는 각종 설정 파일이 저장된 곳
    12. src : 자바 소스 파일이 저장된 곳

## 3.3 컨테이너에서 웹 애플리케이션 실행하기

### 3.3.1 컨텍스트란?

- 컨텍스트(Context)
    - 개발자가 정한 위치에 웹 애플리케이션을 생성한 후 그 위치를 server.xml에 등록하는 웹 애플리케이션
    - 컨테이너 실행 시 웹 애플리케이션 당 하나의 컨텍스트 생성
- 컨텍스트 특징
    - 웹 애플리케이션당 하나의 컨텍스트가 등록됨
    - 웹 애플리케이션 이름과 같을 수도 있고 다를 수도 있음
    - 컨텍스트 이름은 중복되면 안됨
    - 웹 애플리케이션의 의미를 가장 잘 나타낼 수 있는 명사형으로 지정
    - 대소문자를 구분
    - server.xml에 등록

### 3.3.2 톰캣 컨테이너에 컨텍스트 등록하기

- 컨텍스트 등록
    - server.xml에 등록
      
        ```xml
        <Context path="/컨텍스트 이름" docBase="실제 웹 애플리케이션의 WEB-INF 디렉터리 위치" reloadable="true" 또는 "false"/>
        ```
        
    - 예시
      
        ```xml
        <Context docBase="MVCBasic" path="/MVCBasic" reloadable="true" source="org.eclipse.jst.jee.server:MVCBasic"/>
        ```
        

### 3.3.3 톰캣 컨테이너에서의 웹 애플리케이션 동작 과정

- 동작 과정
    1. 웹 브라우저에서 컨텍스 이름으로 요청
    2. 요청을 받은 톰캣 컨테이너는 요청한 컨텍스트 이름이 server.xml에 있는지 확인
    3. 해당 컨텍스트 이름이 있으면 컨텍스트 이름에 대한 실제 웹 애플리케이션이 있는 경로로 가서 요청한 html파일을 클라이언트 웹 브라우저로 전송
    4. 웹 브라우저는 전송된 html을 브라우저에 표시
- 주의사항
    - 컨텍스트 이름으로 요청할 경우 미리 server.xml에 등록되어 있어야 함
    - 만약 등록되어 있지 않은 컨텍스트 이름으로 요청하면 404 오류 발생

## 3.4 이클립스에서 웹 애플리케이션 학습하기

### 3.4.1 이클립스에서 웹 프로젝트 생성

- 웹 프로젝트 생성
    - 이클립스에서는 한 개의 프로젝트가 한 개의 웹 애플리케이션
    - 프로젝트 이름이 바로 웹 애플리케이션 이름
    - 과정
        1. Project Explorer → New → Dynamic Web Project
        2. 프로젝트 name 기재 후 Next
        3. Default로 두고 Next
        4. web.xml 생성 체크박스 체크 후 Finish
        5. Project Explorer에 프로젝트가 생성되었는지 확인

### 3.4.2 이클립스와 톰캣 연동

- 연동
    1. 하단의 Servers 탭 선택 → 우 클릭 후 New → Server 선택
    2. 설정창의 Apache 항목에서 Tomcat v9.0 Server 선택 후 Next
    3. Browse를 클릭하여 톰캣 홈 디렉터리 경로 선택한 후 Finish

### 3.4.3 이클립스와 연동한 톰캣에 프로젝트 등록

- 프로젝트 등록
    1. Server 탭에서 Tomcat v9.0 Server at [localhost](http://localhost) 선택
    2. 우 클릭한 후 Add and Remove 선택
    3. 추가할 프로젝트를 선택한 후 Add 클릭 후 Finish

### 3.4.4 웹 브라우저에서 요청하기

- 웹 브라우저에서 요청
    1. Server 탭 우측의 녹색 실행 버튼 클릭하여 서버 가동
    2. 액세스 허용 클릭
    3. Console 탭에 로그가 출력되며 톰캣이 실행됨